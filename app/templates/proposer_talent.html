{% extends "base.html" %} 
{% block seo_title %}Proposer un talent – Réunion Wiki{% endblock %} 
{% block seo_description %}Propose un influenceur, comédien ou chanteur réunionnais à ajouter à la liste des talents de La Réunion.{% endblock %} 

{% block content %}
<section class="talents-hero">
  <h1>Proposer un talent</h1>
  <p>
    Tu connais un influenceur, un comédien ou un chanteur à mettre en avant ?
    Renseigne son pseudo Instagram, le lien vers son compte et une courte description.
  </p>
  {% if category %}
  <p class="text-muted">
    <strong>Catégorie pré-sélectionnée :</strong> {{ category }}
  </p>
  {% endif %}
</section>

<section class="talents-form" id="proposer-talent">
  <form method="post" action="{{ url_for('public.proposer_talent', category=category if category else '') }}" class="talents-form__form" novalidate>
    {{ form.hidden_tag() }}
    <div class="form-honeypot">
      {{ form.honeypot.label }} {{ form.honeypot() }}
    </div>
    
    {% if category %}
    <input type="hidden" name="category" value="{{ category }}" />
    <div class="talents-form__field">
      <label class="talents-form__label">Catégorie</label>
      <input type="text" value="{{ category }}" class="talents-form__input" disabled readonly />
      <small class="talents-form__hint">Cette catégorie a été présélectionnée depuis le carrousel.</small>
    </div>
    {% else %}
    <input type="hidden" name="category" value="" />
    {% endif %}
    
    <div class="talents-form__field">
      {{ form.pseudo.label(class_="talents-form__label") }}
      {{ form.pseudo(class_="talents-form__input") }}
      {% for error in form.pseudo.errors %}
      <span class="talents-form__error">{{ error }}</span>
      {% endfor %}
    </div>
    <div class="talents-form__field">
      {{ form.instagram.label(class_="talents-form__label") }}
      {{ form.instagram(class_="talents-form__input") }}
      {% for error in form.instagram.errors %}
      <span class="talents-form__error">{{ error }}</span>
      {% endfor %}
    </div>
    <div class="talents-form__field">
      {{ form.description.label(class_="talents-form__label") }}
      {{ form.description(class_="talents-form__textarea", rows="4") }}
      {% for error in form.description.errors %}
      <span class="talents-form__error">{{ error }}</span>
      {% endfor %}
    </div>
    <div class="talents-form__actions">
      <button type="submit" class="btn btn-primary talents-form__submit">
        Envoyer la proposition
      </button>
      <a href="{{ url_for('public.talents') }}" class="btn btn-secondary">
        Retour aux talents
      </a>
    </div>
  </form>
</section>
{% endblock %}

