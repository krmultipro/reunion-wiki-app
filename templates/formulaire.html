{% extends "base.html" %} {% block seo_title %}Proposer un site - Réunion Wiki{%
endblock %} {% block seo_description %}Proposez un site utile pour La Réunion.
Votre suggestion sera vérifiée avant publication.{% endblock %} {% block content
%}
<section class="form-page" aria-labelledby="form-page-title">
  <header class="form-page__intro">
    <h1 id="form-page-title">Proposer un site</h1>
    <p>
      Merci de contribuer à Réunion Wiki&nbsp;! Remplis le formulaire ci-dessous
      pour me suggérer un site fiable et utile pour les habitants de La Réunion.
    </p>
    <ul class="form-checklist">
      <li>
        Privilégie les sites locaux, officiels ou régulièrement mis à jour.
      </li>
      <li>Décris brièvement le contenu pour m'aider à vérifier plus vite.</li>
    </ul>
  </header>

  {% with messages = get_flashed_messages(with_categories=true) %} {% if
  messages %}
  <div class="form-page__messages">
    {% for category, message in messages %}
    <div class="flash-message flash-{{ category }}">{{ message }}</div>
    {% endfor %}
  </div>
  {% endif %} {% endwith %}

  <form
    method="post"
    action="{{ url_for('formulaire') }}"
    class="proposer-card proposer-card--full"
    autocomplete="off"
    novalidate
  >
    {{ form.hidden_tag() }}
    <div class="form-honeypot">
      {{ form.honeypot.label }} {{ form.honeypot() }}
    </div>

    <div class="form-grid">
      <div class="form-field">
        {{ form.nom.label(class="form-label") }} {{ form.nom(class="form-input",
        placeholder="Ex : Météo France Réunion") }} {% if form.nom.errors %}
        <div class="form-errors" id="{{ form.nom.id }}-errors">
          {% for error in form.nom.errors %}
          <span class="error-item">{{ error }}</span>
          {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="form-field">
        {{ form.lien.label(class="form-label") }} {{
        form.lien(class="form-input", placeholder="https://example.com") }} {%
        if form.lien.errors %}
        <div class="form-errors" id="{{ form.lien.id }}-errors">
          {% for error in form.lien.errors %}
          <span class="error-item">{{ error }}</span>
          {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="form-field">
        {{ form.categorie.label(class="form-label") }} {{
        form.categorie(class="form-select") }} {% if form.categorie.errors %}
        <div class="form-errors" id="{{ form.categorie.id }}-errors">
          {% for error in form.categorie.errors %}
          <span class="error-item">{{ error }}</span>
          {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="form-field">
        {{ form.ville.label(class="form-label") }} {{
        form.ville(class="form-input", placeholder="Ex : Saint-Denis
        (optionnel)") }} {% if form.ville.errors %}
        <div class="form-errors" id="{{ form.ville.id }}-errors">
          {% for error in form.ville.errors %}
          <span class="error-item">{{ error }}</span>
          {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="form-field form-field--wide">
        {{ form.description.label(class="form-label") }} {{
        form.description(class="form-textarea", rows="5", placeholder="Décris le
        site, ses fonctionnalités clés et pourquoi il est utile pour La
        Réunion.") }} {% if form.description.errors %}
        <div class="form-errors" id="{{ form.description.id }}-errors">
          {% for error in form.description.errors %}
          <span class="error-item">{{ error }}</span>
          {% endfor %}
        </div>
        {% endif %}
      </div>
    </div>

    <div class="form-actions form-actions--stacked">
      <button type="submit" class="btn btn-primary">
        Envoyer ma proposition
      </button>
      <p class="form-note">
        Les propositions sont vérifiées manuellement régulièrement afin de
        garantir des liens fiables et sécurisés.
      </p>
    </div>
  </form>

  <div class="form-page__back">
    <a href="{{ url_for('accueil') }}" class="link-back"
      >← Retour à l'accueil</a
    >
  </div>
</section>
{% endblock %}
